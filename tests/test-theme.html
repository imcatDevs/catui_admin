<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Theme 테마 - Catui</title>
  <link rel="stylesheet" href="/dist/catui.css">
  <style>
    body { padding: 20px; background: #f5f5f5; color: #333; }
    .section { margin-bottom: 30px; }
    .section-title { font-size: 16px; font-weight: 600; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid #eee; }
    
    .theme-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 10px; }
    .theme-card {
      padding: 10px;
      background: #fff;
      border: 2px solid #eee;
      border-radius: 4px;
      cursor: pointer;
      transition: all .2s;
      text-align: center;
    }
    .theme-card:hover { border-color: #16baaa; }
    .theme-card.active { border-color: #16baaa; box-shadow: 0 0 0 2px rgba(22, 186, 170, 0.2); }
    .theme-preview {
      height: 30px;
      border-radius: 2px;
      margin-bottom: 6px;
      overflow: hidden;
    }
    .theme-preview-header {
      width: 100%;
      height: 100%;
    }
    .theme-name { font-size: 11px; font-weight: 500; color: #666; }
    
    .preview-box {
      padding: 20px;
      background: #fff;
      border-radius: 2px;
      margin-top: 15px;
      border: 1px solid #eee;
    }
    .preview-box h4 { margin-top: 0; margin-bottom: 15px; color: #333; }
    
    .color-var { display: inline-flex; align-items: center; margin: 5px 10px 5px 0; }
    .color-dot { width: 20px; height: 20px; border-radius: 2px; margin-right: 8px; border: 1px solid #eee; }
    .color-name { font-size: 12px; color: #999; }
    
    .component-row { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; margin-bottom: 15px; }
    .component-row:last-child { margin-bottom: 0; }
  </style>
</head>
<body>
  <h1 style="margin-top: 0;">Theme 테마</h1>
  
  <!-- 테마 선택 -->
  <div class="section">
    <h3 class="section-title">테마 선택</h3>
    <div class="theme-grid" id="themeGrid"></div>
  </div>
  
  <!-- 현재 테마 정보 -->
  <div class="section">
    <h3 class="section-title">현재 테마 정보</h3>
    <div class="preview-box">
      <p><strong>테마:</strong> <span id="currentTheme">-</span></p>
      <p><strong>Primary:</strong> <span id="currentPrimary">-</span></p>
      <p><strong>다크 모드:</strong> <span id="isDarkMode">-</span></p>
    </div>
  </div>
  
  <!-- CSS 변수 확인 -->
  <div class="section">
    <h3 class="section-title">CSS 변수 (Colors)</h3>
    <div class="preview-box">
      <div class="color-var"><div class="color-dot" style="background: var(--cui-primary);"></div><span class="color-name">--cui-primary</span></div>
      <div class="color-var"><div class="color-dot" style="background: var(--cui-success);"></div><span class="color-name">--cui-success</span></div>
      <div class="color-var"><div class="color-dot" style="background: var(--cui-warning);"></div><span class="color-name">--cui-warning</span></div>
      <div class="color-var"><div class="color-dot" style="background: var(--cui-danger);"></div><span class="color-name">--cui-danger</span></div>
      <div class="color-var"><div class="color-dot" style="background: var(--cui-info);"></div><span class="color-name">--cui-info</span></div>
    </div>
  </div>
  
  <!-- 컴포넌트 미리보기 -->
  <div class="section">
    <h3 class="section-title">컴포넌트 미리보기</h3>
    
    <!-- 버튼 -->
    <div class="preview-box">
      <h4>버튼 (Button)</h4>
      <div class="component-row">
        <button class="cui-btn">기본</button>
        <button class="cui-btn cui-btn-primary">Primary</button>
        <button class="cui-btn cui-btn-success">Success</button>
        <button class="cui-btn cui-btn-warning">Warning</button>
        <button class="cui-btn cui-btn-danger">Danger</button>
        <button class="cui-btn cui-btn-default">Default</button>
      </div>
      <div class="component-row">
        <button class="cui-btn cui-btn-sm cui-btn-primary">작은 버튼</button>
        <button class="cui-btn cui-btn-lg cui-btn-primary">큰 버튼</button>
        <button class="cui-btn cui-btn-primary" disabled>비활성화</button>
      </div>
    </div>
    
    <!-- 인풋 -->
    <div class="preview-box">
      <h4>입력 (Input)</h4>
      <div class="component-row">
        <input type="text" class="cui-input" placeholder="텍스트 입력" style="width: 200px;">
        <input type="text" class="cui-input" value="비활성화" disabled style="width: 200px;">
      </div>
      <div class="component-row">
        <textarea class="cui-input" placeholder="텍스트 영역" style="width: 100%; min-height: 80px;"></textarea>
      </div>
    </div>
    
    <!-- 카드 -->
    <div class="preview-box">
      <h4>카드 (Card)</h4>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
        <div class="cui-card">
          <div class="cui-card-header">카드 제목</div>
          <div class="cui-card-body">카드 내용입니다. 테마에 따라 배경색과 텍스트 색상이 변경됩니다.</div>
          <div class="cui-card-footer">카드 푸터</div>
        </div>
        <div class="cui-card">
          <div class="cui-card-header">다른 카드</div>
          <div class="cui-card-body">두 번째 카드 내용입니다.</div>
        </div>
        <div class="cui-card">
          <div class="cui-card-body">헤더 없는 카드 내용입니다.</div>
        </div>
      </div>
    </div>
    
    <!-- 패널 / 블록 -->
    <div class="preview-box">
      <h4>패널 / 블록 (Panel)</h4>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
        <div class="cui-panel">
          <div class="cui-panel-header">패널 헤더</div>
          <div class="cui-panel-body">패널 내용입니다. 테마에 따라 스타일이 변경됩니다.</div>
        </div>
        <fieldset class="cui-fieldset">
          <legend>필드셋 제목</legend>
          <div>필드셋 내용입니다.</div>
        </fieldset>
        <blockquote class="cui-quote">
          인용문 블록입니다. 테마에 따라 왼쪽 테두리 색상이 변경됩니다.
        </blockquote>
      </div>
    </div>
    
    <!-- 리스트 -->
    <div class="preview-box">
      <h4>리스트 (List)</h4>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
        <ul class="cui-list">
          <li>리스트 항목 1</li>
          <li>리스트 항목 2</li>
          <li>리스트 항목 3</li>
        </ul>
        <ul class="cui-list cui-list-bordered">
          <li>테두리 리스트 1</li>
          <li>테두리 리스트 2</li>
          <li>테두리 리스트 3</li>
        </ul>
      </div>
    </div>
    
    <!-- 테이블 -->
    <div class="preview-box">
      <h4>테이블 (Table)</h4>
      <table class="cui-table">
        <thead>
          <tr>
            <th>이름</th>
            <th>나이</th>
            <th>직업</th>
            <th>상태</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>홍길동</td>
            <td>30</td>
            <td>개발자</td>
            <td><span class="cui-badge cui-badge-success">활성</span></td>
          </tr>
          <tr>
            <td>김영희</td>
            <td>25</td>
            <td>디자이너</td>
            <td><span class="cui-badge cui-badge-primary">진행중</span></td>
          </tr>
          <tr>
            <td>이철수</td>
            <td>35</td>
            <td>매니저</td>
            <td><span class="cui-badge cui-badge-warning">대기</span></td>
          </tr>
          <tr>
            <td>박민수</td>
            <td>28</td>
            <td>마케터</td>
            <td><span class="cui-badge cui-badge-danger">비활성</span></td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <!-- 탭 -->
    <div class="preview-box">
      <h4>탭 (Tab)</h4>
      <div class="cui-tab">
        <ul class="cui-tab-title">
          <li class="cui-this">탭 1</li>
          <li>탭 2</li>
          <li>탭 3</li>
        </ul>
        <div class="cui-tab-content">
          <div class="cui-tab-item cui-show">탭 1 내용입니다.</div>
          <div class="cui-tab-item">탭 2 내용입니다.</div>
          <div class="cui-tab-item">탭 3 내용입니다.</div>
        </div>
      </div>
    </div>
    
    <!-- 콜랩스 -->
    <div class="preview-box">
      <h4>아코디언 (Collapse)</h4>
      <div class="cui-collapse">
        <div class="cui-collapse-item cui-collapse-opened">
          <div class="cui-collapse-title">아코디언 항목 1</div>
          <div class="cui-collapse-content">아코디언 내용입니다. 테마에 따라 스타일이 변경됩니다.</div>
        </div>
        <div class="cui-collapse-item">
          <div class="cui-collapse-title">아코디언 항목 2</div>
          <div class="cui-collapse-content">두 번째 아코디언 내용입니다.</div>
        </div>
        <div class="cui-collapse-item">
          <div class="cui-collapse-title">아코디언 항목 3</div>
          <div class="cui-collapse-content">세 번째 아코디언 내용입니다.</div>
        </div>
      </div>
    </div>
    
    <!-- 뱃지 & 태그 -->
    <div class="preview-box">
      <h4>뱃지 (Badge)</h4>
      <div class="component-row">
        <span class="cui-badge cui-badge-primary">Primary</span>
        <span class="cui-badge cui-badge-success">Success</span>
        <span class="cui-badge cui-badge-warning">Warning</span>
        <span class="cui-badge cui-badge-danger">Danger</span>
      </div>
      <div class="component-row">
        <span class="cui-badge cui-bg-blue">Blue</span>
        <span class="cui-badge cui-bg-green">Green</span>
        <span class="cui-badge cui-bg-orange">Orange</span>
        <span class="cui-badge cui-bg-red">Red</span>
        <span class="cui-badge cui-bg-cyan">Cyan</span>
        <span class="cui-badge cui-bg-purple">Purple</span>
      </div>
    </div>
    
    <!-- 프로그레스 -->
    <div class="preview-box">
      <h4>프로그레스 (Progress)</h4>
      <div class="cui-progress" style="margin-bottom: 10px;">
        <div class="cui-progress-bar" style="width: 30%;"></div>
      </div>
      <div class="cui-progress" style="margin-bottom: 10px;">
        <div class="cui-progress-bar cui-bg-success" style="width: 50%;"></div>
      </div>
      <div class="cui-progress">
        <div class="cui-progress-bar cui-bg-warning" style="width: 70%;"></div>
      </div>
    </div>
    
    <!-- 폼 요소 -->
    <div class="preview-box">
      <h4>폼 요소 (Form)</h4>
      <div class="component-row">
        <label style="display: flex; align-items: center; gap: 8px;">
          <input type="checkbox" class="cui-checkbox"> 체크박스
        </label>
        <label style="display: flex; align-items: center; gap: 8px;">
          <input type="checkbox" class="cui-checkbox" checked> 체크됨
        </label>
        <label style="display: flex; align-items: center; gap: 8px;">
          <input type="radio" name="radio1" class="cui-radio"> 라디오 1
        </label>
        <label style="display: flex; align-items: center; gap: 8px;">
          <input type="radio" name="radio1" class="cui-radio" checked> 라디오 2
        </label>
      </div>
      <div class="component-row">
        <select class="cui-input" style="width: 200px;">
          <option>선택하세요</option>
          <option>옵션 1</option>
          <option>옵션 2</option>
        </select>
      </div>
    </div>
  </div>
  
  <!-- API -->
  <div class="section">
    <h3 class="section-title">API</h3>
    <div class="preview-box">
      <pre style="margin: 0; background: var(--cui-bg-gray); padding: 15px; border-radius: 4px; overflow-x: auto;"><code>// 테마 설정
theme.set('blue');

// 현재 테마 가져오기
theme.current();  // 'blue'

// 테마 목록
theme.list();

// 테마 선택기 렌더링
theme.render('#container', {
  size: 24,
  gap: 8,
  onChange: function(name, data){}
});

// 저장된 테마 복원
theme.restore();

// 기본으로 초기화
theme.reset();

// 커스텀 테마 추가
theme.add('custom', {
  name: '커스텀',
  header: '#333',
  sidebar: '#222',
  logo: '#444',
  primary: '#ff6600',
  isDark: false
});

// 이벤트
theme.on('change', function(data){
  console.log(data.theme, data.isDark);
});</code></pre>
    </div>
  </div>

  <script src="/dist/catui.js"></script>
  <script>
    Catui.use(['theme', 'popup'], function(){
      var theme = window.theme;
      var popup = window.popup;
      var themes = theme.list();
      var currentThemeName = theme.current();
      
      // 테마 그리드 생성
      var grid = document.getElementById('themeGrid');
      var html = '';
      
      for(var key in themes){
        var t = themes[key];
        var isActive = currentThemeName === key ? ' active' : '';
        var sidebarColor = t.sidebar || '#1e1e2d';
        var headerColor = t.header || '#1e1e2d';
        
        html += '<div class="theme-card' + isActive + '" data-theme="' + key + '">';
        html += '  <div class="theme-preview">';
        html += '    <div class="theme-preview-header" style="background: ' + headerColor + ';"></div>';
        html += '  </div>';
        html += '  <div class="theme-name">' + t.name + '</div>';
        html += '</div>';
      }
      
      grid.innerHTML = html;
      
      // 테마 카드 클릭
      grid.querySelectorAll('.theme-card').forEach(function(card){
        card.addEventListener('click', function(){
          var themeName = this.getAttribute('data-theme');
          theme.set(themeName);
          
          // 활성 상태 변경
          grid.querySelectorAll('.theme-card').forEach(function(c){
            c.classList.remove('active');
          });
          this.classList.add('active');
          
          updateInfo();
          popup.msg('테마 변경: ' + themes[themeName].name);
        });
      });
      
      // 정보 업데이트
      function updateInfo(){
        var current = theme.current();
        var data = theme.get(current);
        
        document.getElementById('currentTheme').textContent = data.name + ' (' + current + ')';
        document.getElementById('currentPrimary').textContent = data.primary;
        document.getElementById('isDarkMode').textContent = data.isDark ? '예' : '아니오';
      }
      
      updateInfo();
      
      // 이벤트 등록
      theme.on('change', function(data){
        console.log('테마 변경:', data);
      });
    });
  </script>
</body>
</html>
