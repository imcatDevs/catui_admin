<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Theme í…Œë§ˆ - Catui</title>
  <link rel="stylesheet" href="/dist/catui.css">
  <style>
    body { padding: 20px; background: #f5f5f5; color: #333; }
    .section { margin-bottom: 30px; }
    .section-title { font-size: 16px; font-weight: 600; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid #eee; }
    
    .theme-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 10px; }
    .theme-card {
      padding: 10px;
      background: #fff;
      border: 2px solid #eee;
      border-radius: 4px;
      cursor: pointer;
      transition: all .2s;
      text-align: center;
    }
    .theme-card:hover { border-color: #16baaa; }
    .theme-card.active { border-color: #16baaa; box-shadow: 0 0 0 2px rgba(22, 186, 170, 0.2); }
    .theme-preview {
      height: 30px;
      border-radius: 2px;
      margin-bottom: 6px;
      overflow: hidden;
    }
    .theme-preview-header {
      width: 100%;
      height: 100%;
    }
    .theme-name { font-size: 11px; font-weight: 500; color: #666; }
    
    .preview-box {
      padding: 20px;
      background: #fff;
      border-radius: 2px;
      margin-top: 15px;
      border: 1px solid #eee;
    }
    .preview-box h4 { margin-top: 0; margin-bottom: 15px; color: #333; }
    
    .color-var { display: inline-flex; align-items: center; margin: 5px 10px 5px 0; }
    .color-dot { width: 20px; height: 20px; border-radius: 2px; margin-right: 8px; border: 1px solid #eee; }
    .color-name { font-size: 12px; color: #999; }
    
    .component-row { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; margin-bottom: 15px; }
    .component-row:last-child { margin-bottom: 0; }
    
    .color-preset {
      width: 32px;
      height: 32px;
      border-radius: 4px;
      cursor: pointer;
      transition: transform .2s, box-shadow .2s;
      border: 2px solid transparent;
    }
    .color-preset:hover { transform: scale(1.1); box-shadow: 0 2px 8px rgba(0,0,0,0.2); }
    .color-preset.active { border-color: #333; transform: scale(1.1); }
    
    /* ìºëŸ¬ì…€ ìŠ¬ë¼ì´ë“œ ìŠ¤íƒ€ì¼ - displayëŠ” ìºëŸ¬ì…€ ëª¨ë“ˆì´ ì œì–´í•˜ë¯€ë¡œ ê±´ë“œë¦¬ì§€ ì•ŠìŒ */
    #testCarousel [carousel-item] > * {
      /* displayëŠ” ê±´ë“œë¦¬ì§€ ì•ŠìŒ (ìºëŸ¬ì…€ì´ none/block ì œì–´) */
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 24px;
      text-align: center;
    }
    /* í™œì„± ìŠ¬ë¼ì´ë“œì—ë§Œ flex ì ìš© */
    #testCarousel [carousel-item] > *.cui-this,
    #testCarousel [carousel-item] > *.cui-carousel-prev,
    #testCarousel [carousel-item] > *.cui-carousel-next {
      display: flex;
    }
    #testCarousel [carousel-item] > *:nth-child(1) { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
    #testCarousel [carousel-item] > *:nth-child(2) { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
    #testCarousel [carousel-item] > *:nth-child(3) { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
  </style>
</head>
<body>
  <h1 style="margin-top: 0;">Theme í…Œë§ˆ</h1>
  
  <!-- í…Œë§ˆ ì„ íƒ -->
  <div class="section">
    <h3 class="section-title">í…Œë§ˆ ì„ íƒ</h3>
    <div class="theme-grid" id="themeGrid"></div>
  </div>
  
  <!-- í˜„ì¬ í…Œë§ˆ ì •ë³´ -->
  <div class="section">
    <h3 class="section-title">í˜„ì¬ í…Œë§ˆ ì •ë³´</h3>
    <div class="preview-box">
      <p><strong>í…Œë§ˆ:</strong> <span id="currentTheme">-</span></p>
      <p><strong>Primary:</strong> <span id="currentPrimary">-</span></p>
      <p><strong>ë‹¤í¬ ëª¨ë“œ:</strong> <span id="isDarkMode">-</span></p>
    </div>
  </div>
  
  <!-- ë¸Œëœë“œ ì»¬ëŸ¬ ì„¤ì • -->
  <div class="section">
    <h3 class="section-title">ğŸ¨ ë¸Œëœë“œ ì»¬ëŸ¬ ì„¤ì •</h3>
    <div class="preview-box">
      <h4>setPrimary() - Primary ì»¬ëŸ¬ ë³€ê²½</h4>
      <div class="component-row">
        <input type="color" id="brandColorPicker" value="#16baaa" style="width: 60px; height: 38px; cursor: pointer;">
        <input type="text" id="brandColorInput" class="cui-input" value="#16baaa" style="width: 120px;">
        <button class="cui-btn cui-btn-primary" onclick="applyBrandColor()">ì ìš©</button>
        <button class="cui-btn cui-btn-default" onclick="resetBrandColor()">ì´ˆê¸°í™”</button>
      </div>
      
      <h4 style="margin-top: 20px;">í”„ë¦¬ì…‹ ë¸Œëœë“œ ì»¬ëŸ¬</h4>
      <div class="component-row" id="presetColors">
        <div class="color-preset" data-color="#1677ff" style="background: #1677ff;" title="Blue"></div>
        <div class="color-preset" data-color="#52c41a" style="background: #52c41a;" title="Green"></div>
        <div class="color-preset" data-color="#722ed1" style="background: #722ed1;" title="Purple"></div>
        <div class="color-preset" data-color="#fa8c16" style="background: #fa8c16;" title="Orange"></div>
        <div class="color-preset" data-color="#ff4d4f" style="background: #ff4d4f;" title="Red"></div>
        <div class="color-preset" data-color="#13c2c2" style="background: #13c2c2;" title="Cyan"></div>
        <div class="color-preset" data-color="#eb2f96" style="background: #eb2f96;" title="Pink"></div>
        <div class="color-preset" data-color="#2f54eb" style="background: #2f54eb;" title="Indigo"></div>
        <div class="color-preset" data-color="#faad14" style="background: #faad14;" title="Gold"></div>
        <div class="color-preset" data-color="#a0d911" style="background: #a0d911;" title="Lime"></div>
      </div>
      
      <h4 style="margin-top: 20px;">setBrand() - ì „ì²´ ë¸Œëœë“œ ì ìš©</h4>
      <div class="component-row">
        <label style="display: flex; align-items: center; gap: 8px;">
          <input type="checkbox" id="applyToLayout"> í—¤ë”/ë ˆì´ì•„ì›ƒ ì ìš©
        </label>
        <label style="display: flex; align-items: center; gap: 8px;">
          <input type="checkbox" id="harmonize"> ìƒ‰ìƒ ì¡°í™” (Success, Info ìë™ ê³„ì‚°)
        </label>
        <button class="cui-btn cui-btn-primary" onclick="applyFullBrand()">ì „ì²´ ë¸Œëœë“œ ì ìš©</button>
      </div>
    </div>
  </div>
  
  <!-- CSS ë³€ìˆ˜ í™•ì¸ -->
  <div class="section">
    <h3 class="section-title">CSS ë³€ìˆ˜ (Colors)</h3>
    <div class="preview-box" id="cssVarsBox">
      <div class="color-var"><div class="color-dot" id="dot-primary" style="background: var(--cui-primary);"></div><span class="color-name">--cui-primary <span id="val-primary"></span></span></div>
      <div class="color-var"><div class="color-dot" id="dot-primary-hover" style="background: var(--cui-primary-hover);"></div><span class="color-name">--cui-primary-hover</span></div>
      <div class="color-var"><div class="color-dot" id="dot-primary-active" style="background: var(--cui-primary-active);"></div><span class="color-name">--cui-primary-active</span></div>
      <div class="color-var"><div class="color-dot" id="dot-primary-light" style="background: var(--cui-primary-light);"></div><span class="color-name">--cui-primary-light</span></div>
      <div class="color-var"><div class="color-dot" id="dot-primary-lighter" style="background: var(--cui-primary-lighter);"></div><span class="color-name">--cui-primary-lighter</span></div>
      <br>
      <div class="color-var"><div class="color-dot" style="background: var(--cui-success);"></div><span class="color-name">--cui-success</span></div>
      <div class="color-var"><div class="color-dot" style="background: var(--cui-warning);"></div><span class="color-name">--cui-warning</span></div>
      <div class="color-var"><div class="color-dot" style="background: var(--cui-danger);"></div><span class="color-name">--cui-danger</span></div>
      <div class="color-var"><div class="color-dot" style="background: var(--cui-info);"></div><span class="color-name">--cui-info</span></div>
    </div>
  </div>
  
  <!-- í…Œë§ˆ ë³€ê²½ ì‹œ ì ìš©ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ -->
  <div class="section">
    <h3 class="section-title">âœ… í…Œë§ˆ ë³€ê²½ ì‹œ ì ìš©ë˜ëŠ” ìš”ì†Œ</h3>
    
    <!-- ë²„íŠ¼ -->
    <div class="preview-box">
      <h4>ë²„íŠ¼ (Button) - ê¸°ë³¸/Primary</h4>
      <div class="component-row">
        <button class="cui-btn">ê¸°ë³¸ ë²„íŠ¼</button>
        <button class="cui-btn cui-btn-primary">Primary ë²„íŠ¼</button>
        <button class="cui-btn cui-btn-sm">ì‘ì€ ë²„íŠ¼</button>
        <button class="cui-btn cui-btn-lg">í° ë²„íŠ¼</button>
      </div>
    </div>
    
    <!-- ì¸ìš©ë¬¸ -->
    <div class="preview-box">
      <h4>ì¸ìš©ë¬¸ (Blockquote) - ì™¼ìª½ í…Œë‘ë¦¬</h4>
      <blockquote class="cui-quote">
        ì¸ìš©ë¬¸ ë¸”ë¡ì…ë‹ˆë‹¤. í…Œë§ˆì— ë”°ë¼ ì™¼ìª½ í…Œë‘ë¦¬ ìƒ‰ìƒì´ ë³€ê²½ë©ë‹ˆë‹¤.
      </blockquote>
    </div>
    
    <!-- íƒ­ -->
    <div class="preview-box">
      <h4>íƒ­ (Tab) - í™œì„± íƒ­ ë°‘ì¤„</h4>
      <div class="cui-tab">
        <ul class="cui-tab-title">
          <li class="cui-this">íƒ­ 1</li>
          <li>íƒ­ 2</li>
          <li>íƒ­ 3</li>
        </ul>
        <div class="cui-tab-content">
          <div class="cui-tab-item cui-show">íƒ­ 1 ë‚´ìš©ì…ë‹ˆë‹¤.</div>
          <div class="cui-tab-item">íƒ­ 2 ë‚´ìš©ì…ë‹ˆë‹¤.</div>
          <div class="cui-tab-item">íƒ­ 3 ë‚´ìš©ì…ë‹ˆë‹¤.</div>
        </div>
      </div>
    </div>
    
    <!-- ë±ƒì§€ -->
    <div class="preview-box">
      <h4>ë±ƒì§€ (Badge) - Primary</h4>
      <div class="component-row">
        <span class="cui-badge cui-badge-primary">Primary ë±ƒì§€</span>
      </div>
    </div>
    
    <!-- í”„ë¡œê·¸ë ˆìŠ¤ -->
    <div class="preview-box">
      <h4>í”„ë¡œê·¸ë ˆìŠ¤ (Progress) - ê¸°ë³¸ ìƒ‰ìƒ</h4>
      <div class="cui-progress">
        <div class="cui-progress-bar" style="width: 60%;"></div>
      </div>
    </div>
    
    <!-- ë§í¬ -->
    <div class="preview-box">
      <h4>ë§í¬ (Link)</h4>
      <div class="component-row">
        <a href="javascript:;" class="cui-link">ê¸°ë³¸ ë§í¬</a>
        <a href="javascript:;" style="color: var(--cui-primary);">Primary ìƒ‰ìƒ í…ìŠ¤íŠ¸</a>
      </div>
    </div>
    
    <!-- Input Focus -->
    <div class="preview-box">
      <h4>Input Focus í…Œë‘ë¦¬</h4>
      <div class="component-row">
        <input type="text" class="cui-input" placeholder="í´ë¦­í•˜ë©´ focus í…Œë‘ë¦¬ ìƒ‰ìƒ í™•ì¸" style="width: 300px;">
      </div>
    </div>
    
    <!-- í¼ ìš”ì†Œ -->
    <div class="preview-box">
      <h4>í¼ ìš”ì†Œ - ì²´í¬ë°•ìŠ¤/ë¼ë””ì˜¤ (ì²´í¬ ì‹œ)</h4>
      <div class="component-row">
        <label style="display: flex; align-items: center; gap: 8px;">
          <input type="checkbox" checked> ì²´í¬ë°•ìŠ¤
        </label>
        <label style="display: flex; align-items: center; gap: 8px;">
          <input type="radio" name="radio1" checked> ë¼ë””ì˜¤
        </label>
      </div>
    </div>
    
    <!-- í•„ë“œì…‹ -->
    <div class="preview-box">
      <h4>í•„ë“œì…‹ (Fieldset) - í…Œë‘ë¦¬</h4>
      <fieldset class="cui-fieldset">
        <legend>í•„ë“œì…‹ ì œëª©</legend>
        <p style="margin: 0;">í•„ë“œì…‹ ë‚´ìš©ì…ë‹ˆë‹¤. í…Œë§ˆì— ë”°ë¼ í…Œë‘ë¦¬ ìƒ‰ìƒì´ ë³€ê²½ë©ë‹ˆë‹¤.</p>
      </fieldset>
    </div>
    
    <!-- ìºëŸ¬ì…€ -->
    <div class="preview-box">
      <h4>ìºëŸ¬ì…€ (Carousel) - í™”ì‚´í‘œ í˜¸ë²„, ì¸ë””ì¼€ì´í„° í™œì„±</h4>
      <div class="cui-carousel" id="testCarousel">
        <div carousel-item>
          <div>ìŠ¬ë¼ì´ë“œ 1</div>
          <div>ìŠ¬ë¼ì´ë“œ 2</div>
          <div>ìŠ¬ë¼ì´ë“œ 3</div>
        </div>
      </div>
      <p style="margin-top: 10px; font-size: 12px; color: #999;">* í™”ì‚´í‘œì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ ë¸Œëœë“œ ì»¬ëŸ¬ë¡œ ë³€ê²½ë©ë‹ˆë‹¤. ì¸ë””ì¼€ì´í„° í™œì„± ì ë„ ë¸Œëœë“œ ì»¬ëŸ¬ì…ë‹ˆë‹¤.</p>
    </div>
    
    <!-- í…Œì´ë¸” -->
    <div class="preview-box">
      <h4>í…Œì´ë¸” (Table) - ì²´í¬ëœ í–‰ ë°°ê²½</h4>
      <table class="cui-table">
        <thead>
          <tr>
            <th style="width: 40px;"><input type="checkbox"></th>
            <th>ì´ë¦„</th>
            <th>ì§ì—…</th>
            <th>ìƒíƒœ</th>
          </tr>
        </thead>
        <tbody>
          <tr class="cui-table-checked">
            <td><input type="checkbox" checked></td>
            <td>í™ê¸¸ë™</td>
            <td>ê°œë°œì</td>
            <td><span class="cui-badge cui-badge-primary">ì§„í–‰ì¤‘</span></td>
          </tr>
          <tr>
            <td><input type="checkbox"></td>
            <td>ê¹€ì˜í¬</td>
            <td>ë””ìì´ë„ˆ</td>
            <td><span class="cui-badge" style="background: var(--cui-primary-light); color: var(--cui-primary);">ëŒ€ê¸°</span></td>
          </tr>
          <tr class="cui-table-checked">
            <td><input type="checkbox" checked></td>
            <td>ì´ì² ìˆ˜</td>
            <td>ë§¤ë‹ˆì €</td>
            <td><span class="cui-badge cui-badge-primary">ì§„í–‰ì¤‘</span></td>
          </tr>
        </tbody>
      </table>
      <p style="margin-top: 10px; font-size: 12px; color: #999;">* ì²´í¬ëœ í–‰ì€ <code>rgba(--cui-primary-rgb, 0.1)</code> ë°°ê²½ì´ ì ìš©ë©ë‹ˆë‹¤.</p>
    </div>
    
    <!-- ì•„ì½”ë””ì–¸ -->
    <div class="preview-box">
      <h4>ì•„ì½”ë””ì–¸ (Collapse) - ì—´ë¦° í•­ëª© ë°°ê²½</h4>
      <div class="cui-collapse">
        <div class="cui-collapse-item cui-collapse-opened">
          <div class="cui-collapse-title">ì—´ë¦° ì•„ì½”ë””ì–¸ (Primary Light ë°°ê²½)</div>
          <div class="cui-collapse-content">ì•„ì½”ë””ì–¸ ë‚´ìš©ì…ë‹ˆë‹¤. í…Œë§ˆì— ë”°ë¼ ë°°ê²½ìƒ‰ì´ ë³€ê²½ë©ë‹ˆë‹¤.</div>
        </div>
        <div class="cui-collapse-item">
          <div class="cui-collapse-title">ë‹«íŒ ì•„ì½”ë””ì–¸</div>
          <div class="cui-collapse-content">ë‘ ë²ˆì§¸ ë‚´ìš©ì…ë‹ˆë‹¤.</div>
        </div>
      </div>
    </div>
    
    <!-- ë©”ë‰´ -->
    <div class="preview-box">
      <h4>ë©”ë‰´ (Menu) - í™œì„± í•­ëª© ë°°ê²½</h4>
      <div class="cui-menu" style="max-width: 250px; border: 1px solid var(--cui-border-color);">
        <div class="cui-menu-item cui-menu-active">
          <a href="javascript:;"><i class="cui-icon">home</i> í™œì„± ë©”ë‰´ (Primary Light)</a>
        </div>
        <div class="cui-menu-item">
          <a href="javascript:;"><i class="cui-icon">settings</i> ì¼ë°˜ ë©”ë‰´</a>
        </div>
        <div class="cui-menu-item">
          <a href="javascript:;"><i class="cui-icon">person</i> ì¼ë°˜ ë©”ë‰´</a>
        </div>
      </div>
    </div>
    
    <!-- Primary ë°°ê²½ -->
    <div class="preview-box">
      <h4>Primary ë°°ê²½/í…ìŠ¤íŠ¸</h4>
      <div class="component-row">
        <span style="background: var(--cui-primary); color: #fff; padding: 8px 16px; border-radius: 4px;">Primary ë°°ê²½</span>
        <span style="background: var(--cui-primary-light); color: var(--cui-primary); padding: 8px 16px; border-radius: 4px;">Primary Light ë°°ê²½</span>
        <span style="background: var(--cui-primary-lighter); color: var(--cui-primary); padding: 8px 16px; border-radius: 4px;">Primary Lighter ë°°ê²½</span>
      </div>
      <div class="component-row" style="margin-top: 10px;">
        <span style="color: var(--cui-primary);">Primary í…ìŠ¤íŠ¸</span>
      </div>
    </div>
  </div>
  
  <!-- API -->
  <div class="section">
    <h3 class="section-title">API</h3>
    <div class="preview-box">
      <pre style="margin: 0; background: var(--cui-bg-gray); padding: 15px; border-radius: 4px; overflow-x: auto;"><code>// ============ í…Œë§ˆ í”„ë¦¬ì…‹ ============
// í…Œë§ˆ ì„¤ì •
theme.set('blue');     // blue, green, purple, orange, red, cyan, pink, indigo, teal, dark, light

// í˜„ì¬ í…Œë§ˆ ê°€ì ¸ì˜¤ê¸°
theme.current();  // 'blue'

// í…Œë§ˆ ëª©ë¡
theme.list();

// ì €ì¥ëœ í…Œë§ˆ ë³µì›
theme.restore();

// ê¸°ë³¸ìœ¼ë¡œ ì´ˆê¸°í™”
theme.reset();

// ============ ë¸Œëœë“œ ì»¬ëŸ¬ ============
// Primary ì»¬ëŸ¬ë§Œ ë³€ê²½ (hover, active, light ìë™ ê³„ì‚°)
theme.setPrimary('#FF6B35');

// í—¤ë”/ë ˆì´ì•„ì›ƒë„ í•¨ê»˜ ë³€ê²½
theme.setPrimary('#FF6B35', { applyToLayout: true });

// ì „ì²´ ë¸Œëœë“œ ì„¸íŠ¸ ì ìš©
theme.setBrand('#FF6B35', {
  applyToLayout: true,  // í—¤ë”/ì‚¬ì´ë“œë°” ì ìš©
  harmonize: true       // success, info ìƒ‰ìƒ ìë™ ì¡°í™”
});

// ============ ì»¤ìŠ¤í…€ í…Œë§ˆ ============
// ì»¤ìŠ¤í…€ í…Œë§ˆ ì¶”ê°€
theme.add('custom', {
  name: 'ì»¤ìŠ¤í…€',
  header: '#333',
  sidebar: '#222',
  logo: '#444',
  primary: '#ff6600',
  isDark: false
});

// í…Œë§ˆ ì„ íƒê¸° ë Œë”ë§
theme.render('#container', {
  size: 24,
  gap: 8,
  onChange: function(name, data){}
});

// ============ ì´ë²¤íŠ¸ ============
theme.on('change', function(data){
  console.log(data.theme, data.isDark);
});</code></pre>
    </div>
  </div>

  <script src="/dist/catui.js"></script>
  <script>
    // ë¸Œëœë“œ ì»¬ëŸ¬ ì ìš© í•¨ìˆ˜ (ì „ì—­)
    function applyBrandColor(){
      var color = document.getElementById('brandColorInput').value;
      if(window.theme){
        theme.setPrimary(color);
        updateColorDisplay();
        popup.msg('ë¸Œëœë“œ ì»¬ëŸ¬ ì ìš©: ' + color, { icon: 1 });
      }
    }
    
    function applyFullBrand(){
      var color = document.getElementById('brandColorInput').value;
      var applyToLayout = document.getElementById('applyToLayout').checked;
      var harmonize = document.getElementById('harmonize').checked;
      
      if(window.theme){
        theme.setBrand(color, {
          applyToLayout: applyToLayout,
          harmonize: harmonize
        });
        updateColorDisplay();
        popup.msg('ì „ì²´ ë¸Œëœë“œ ì ìš©: ' + color, { icon: 1 });
      }
    }
    
    function resetBrandColor(){
      if(window.theme){
        theme.reset();
        document.getElementById('brandColorPicker').value = '#16baaa';
        document.getElementById('brandColorInput').value = '#16baaa';
        updateColorDisplay();
        popup.msg('ì´ˆê¸°í™” ì™„ë£Œ', { icon: 1 });
      }
    }
    
    function updateColorDisplay(){
      // CSS ë³€ìˆ˜ ê°’ ì½ê¸°
      var root = getComputedStyle(document.documentElement);
      document.getElementById('val-primary').textContent = root.getPropertyValue('--cui-primary').trim();
      
      // ìƒ‰ìƒ ë°•ìŠ¤ ì—…ë°ì´íŠ¸ (ê°•ì œ ë¦¬í”Œë¡œìš°)
      document.querySelectorAll('.color-dot').forEach(function(dot){
        dot.style.display = 'none';
        dot.offsetHeight; // ë¦¬í”Œë¡œìš°
        dot.style.display = '';
      });
    }
    
    Catui.use(['$c','theme', 'popup', 'form', 'carousel'], function(){
      var theme = window.theme;
      var popup = window.popup;
      var themes = theme.list();
      var currentThemeName = theme.current();
      var carousel = Catui.carousel;
      
      // í…Œë§ˆ ê·¸ë¦¬ë“œ ìƒì„±
      var grid = document.getElementById('themeGrid');
      var html = '';
      
      for(var key in themes){
        var t = themes[key];
        var isActive = currentThemeName === key ? ' active' : '';
        var sidebarColor = t.sidebar || '#1e1e2d';
        var headerColor = t.header || '#1e1e2d';
        
        html += '<div class="theme-card' + isActive + '" data-theme="' + key + '">';
        html += '  <div class="theme-preview">';
        html += '    <div class="theme-preview-header" style="background: ' + headerColor + ';"></div>';
        html += '  </div>';
        html += '  <div class="theme-name">' + t.name + '</div>';
        html += '</div>';
      }
      
      grid.innerHTML = html;
      
      // í…Œë§ˆ ì¹´ë“œ í´ë¦­
      grid.querySelectorAll('.theme-card').forEach(function(card){
        card.addEventListener('click', function(){
          var themeName = this.getAttribute('data-theme');
          theme.set(themeName);
          
          // í™œì„± ìƒíƒœ ë³€ê²½
          grid.querySelectorAll('.theme-card').forEach(function(c){
            c.classList.remove('active');
          });
          this.classList.add('active');
          
          updateInfo();
          popup.msg('í…Œë§ˆ ë³€ê²½: ' + themes[themeName].name);
        });
      });
      
      // ì •ë³´ ì—…ë°ì´íŠ¸
      function updateInfo(){
        var current = theme.current();
        var data = theme.get(current);
        
        document.getElementById('currentTheme').textContent = data.name + ' (' + current + ')';
        document.getElementById('currentPrimary').textContent = data.primary;
        document.getElementById('isDarkMode').textContent = data.isDark ? 'ì˜ˆ' : 'ì•„ë‹ˆì˜¤';
      }
      
      updateInfo();
      
      // ì´ë²¤íŠ¸ ë“±ë¡
      theme.on('change', function(data){
        console.log('í…Œë§ˆ ë³€ê²½:', data);
        updateColorDisplay();
      });
      
      // ì»¬ëŸ¬ í”¼ì»¤ ì—°ë™
      var colorPicker = document.getElementById('brandColorPicker');
      var colorInput = document.getElementById('brandColorInput');
      
      colorPicker.addEventListener('input', function(){
        colorInput.value = this.value;
      });
      
      colorInput.addEventListener('change', function(){
        colorPicker.value = this.value;
      });
      
      // í”„ë¦¬ì…‹ ì»¬ëŸ¬ í´ë¦­
      document.querySelectorAll('.color-preset').forEach(function(preset){
        preset.addEventListener('click', function(){
          var color = this.getAttribute('data-color');
          colorPicker.value = color;
          colorInput.value = color;
          
          // í™œì„± ìƒíƒœ
          document.querySelectorAll('.color-preset').forEach(function(p){
            p.classList.remove('active');
          });
          this.classList.add('active');
          
          // ë°”ë¡œ ì ìš©
          theme.setPrimary(color);
          updateColorDisplay();
          popup.msg('ë¸Œëœë“œ ì»¬ëŸ¬: ' + color, { icon: 1 });
        });
      });
      
      // í¼ ë Œë”ë§
      form.render();
      
      // ìºëŸ¬ì…€ ë Œë”ë§
      console.log('carousel ëª¨ë“ˆ:', carousel);
      console.log('#testCarousel ìš”ì†Œ:', document.getElementById('testCarousel'));
      console.log('ìŠ¬ë¼ì´ë“œ ê°œìˆ˜:', document.querySelectorAll('#testCarousel [carousel-item] > *').length);
      
      var testCarousel = carousel.render({
        elem: '#testCarousel',
        width: '100%',
        height: '180px',
        arrow: 'always',
        autoplay: true,
        interval: 3000
      });
      console.log('ìºëŸ¬ì…€ ì¸ìŠ¤í„´ìŠ¤:', testCarousel);
      console.log('elemItem ê°œìˆ˜:', testCarousel.elemItem ? testCarousel.elemItem.length : 'undefined');
   
      
      // ì´ˆê¸° ì»¬ëŸ¬ í‘œì‹œ
      updateColorDisplay();
    });
  </script>
</body>
</html>
