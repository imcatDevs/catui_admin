<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Code 코드 하이라이팅 테스트 - Catui</title>
  <link rel="stylesheet" href="../catui.css">
  <style>
    body { padding: 20px; background: #f0f2f5; }
    .test-section { padding: 20px; margin-bottom: 20px; background: #fff; border-radius: 8px; }
    .test-section h3 { margin: 0 0 15px; }
    .test-section h4 { margin: 20px 0 10px; font-size: 14px; color: #666; }
  </style>
</head>
<body>
  <h2>Code 코드 하이라이팅</h2>

  <!-- JavaScript -->
  <div class="test-section">
    <h3>JavaScript</h3>
    <pre><code class="language-javascript">// 함수 정의
function greet(name) {
  const message = "Hello, " + name + "!";
  console.log(message);
  return message;
}

// 클래스
class Person {
  constructor(name, age) {
    this.name = name;
    this.age = age;
  }

  sayHello() {
    return `안녕하세요, ${this.name}입니다.`;
  }
}

// 비동기 함수
async function fetchData(url) {
  try {
    const response = await fetch(url);
    const data = await response.json();
    return data;
  } catch (error) {
    console.error('Error:', error);
    return null;
  }
}

// 배열 메소드
const numbers = [1, 2, 3, 4, 5];
const doubled = numbers.map(n => n * 2);
const sum = numbers.reduce((a, b) => a + b, 0);
</code></pre>
  </div>

  <!-- HTML -->
  <div class="test-section">
    <h3>HTML</h3>
    <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="ko"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;페이지 제목&lt;/title&gt;
  &lt;link rel="stylesheet" href="style.css"&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;!-- 헤더 --&gt;
  &lt;header class="main-header"&gt;
    &lt;nav id="navigation"&gt;
      &lt;a href="/" class="logo"&gt;로고&lt;/a&gt;
      &lt;ul class="menu"&gt;
        &lt;li&gt;&lt;a href="/about"&gt;소개&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href="/contact"&gt;연락처&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/nav&gt;
  &lt;/header&gt;

  &lt;main&gt;
    &lt;article&gt;
      &lt;h1&gt;글 제목&lt;/h1&gt;
      &lt;p&gt;본문 내용입니다.&lt;/p&gt;
      &lt;img src="image.jpg" alt="이미지"&gt;
    &lt;/article&gt;
  &lt;/main&gt;

  &lt;script src="app.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
  </div>

  <!-- CSS -->
  <div class="test-section">
    <h3>CSS</h3>
    <pre><code class="language-css">/* 기본 스타일 */
body {
  margin: 0;
  padding: 0;
  font-family: 'Noto Sans KR', sans-serif;
  background-color: #f5f5f5;
}

/* 헤더 */
.main-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 60px;
  background: #fff;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  z-index: 1000;
}

/* 버튼 */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 20px;
  border-radius: 4px;
  font-size: 14px;
  transition: all 0.3s ease;
}

.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* 그리드 */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 20px;
}

/* 미디어 쿼리 */
@media (max-width: 768px) {
  .main-header {
    height: 50px;
  }
}
</code></pre>
  </div>

  <!-- JSON -->
  <div class="test-section">
    <h3>JSON</h3>
    <pre><code class="language-json">{
  "name": "catui",
  "version": "1.0.0",
  "description": "Catui UI Framework",
  "main": "dist/catui.js",
  "author": "Catui Team",
  "license": "MIT",
  "keywords": ["ui", "framework", "components"],
  "dependencies": {
    "gulp": "^4.0.0"
  },
  "config": {
    "port": 3000,
    "debug": true,
    "maxRetries": 5
  }
}
</code></pre>
  </div>

  <!-- 라이트 테마 -->
  <div class="test-section">
    <h3>라이트 테마</h3>
    <pre><code class="cui-code cui-code-light language-javascript">// 라이트 테마 예시
const config = {
  theme: 'light',
  colors: ['red', 'green', 'blue'],
  enabled: true
};

function processConfig(cfg) {
  return Object.keys(cfg).map(key => {
    return { key, value: cfg[key] };
  });
}
</code></pre>
  </div>

  <!-- 줄번호 -->
  <div class="test-section">
    <h3>줄번호 표시</h3>
    <pre><code class="cui-code cui-code-line language-javascript">function fibonacci(n) {
  if (n <= 1) return n;
  return fibonacci(n - 1) + fibonacci(n - 2);
}

// 사용 예시
for (let i = 0; i < 10; i++) {
  console.log(fibonacci(i));
}
</code></pre>
  </div>

  <script src="../catui.js"></script>
  <script>
    Catui.use(['$c', 'code', 'popup'], function(){
      var code = Catui.code;

      // 모든 코드 블록 하이라이팅
      code.render();

      Catui.popup.msg('코드 하이라이팅 완료', { icon: 1 });
    });
  </script>
</body>
</html>
