<div class="auth-page">
  <div class="auth-container">
    <!-- 로그인 폼 -->
    <div class="auth-card" id="loginForm">
      <div class="auth-header">
        <div class="auth-logo">
          <i class="cui-icon" style="font-size:48px;color:var(--cui-primary);">widgets</i>
        </div>
        <h2>로그인</h2>
        <p>계정에 로그인하세요</p>
      </div>
      <div class="auth-body">
        <div class="auth-form-group">
          <label>이메일</label>
          <div class="auth-input">
            <i class="cui-icon">email</i>
            <input type="email" placeholder="이메일 주소">
          </div>
        </div>
        <div class="auth-form-group">
          <div class="auth-label-row">
            <label>비밀번호</label>
            <a href="javascript:;" id="showForgot">비밀번호 찾기</a>
          </div>
          <div class="auth-input">
            <i class="cui-icon">lock</i>
            <input type="password" placeholder="비밀번호">
            <i class="cui-icon toggle-password">visibility_off</i>
          </div>
        </div>
        <label class="auth-checkbox">
          <input type="checkbox">
          <span>로그인 상태 유지</span>
        </label>
        <button class="cui-btn cui-btn-primary cui-btn-block cui-btn-lg" id="btnLogin">로그인</button>
        
        <div class="auth-divider">
          <span>또는</span>
        </div>
        
        <div class="auth-social">
          <button class="cui-btn cui-btn-block social-google"><i class="cui-icon">mail</i> Google로 계속</button>
          <button class="cui-btn cui-btn-block social-github"><i class="cui-icon">code</i> GitHub로 계속</button>
        </div>
      </div>
      <div class="auth-footer">
        계정이 없으신가요? <a href="javascript:;" id="showRegister">회원가입</a>
      </div>
    </div>

    <!-- 회원가입 폼 -->
    <div class="auth-card" id="registerForm" style="display:none;">
      <div class="auth-header">
        <div class="auth-logo">
          <i class="cui-icon" style="font-size:48px;color:var(--cui-primary);">widgets</i>
        </div>
        <h2>회원가입</h2>
        <p>새 계정을 만드세요</p>
      </div>
      <div class="auth-body">
        <div class="auth-form-group">
          <label>이름</label>
          <div class="auth-input">
            <i class="cui-icon">person</i>
            <input type="text" placeholder="이름">
          </div>
        </div>
        <div class="auth-form-group">
          <label>이메일</label>
          <div class="auth-input">
            <i class="cui-icon">email</i>
            <input type="email" placeholder="이메일 주소">
          </div>
        </div>
        <div class="auth-form-group">
          <label>비밀번호</label>
          <div class="auth-input">
            <i class="cui-icon">lock</i>
            <input type="password" placeholder="비밀번호 (8자 이상)">
          </div>
        </div>
        <div class="auth-form-group">
          <label>비밀번호 확인</label>
          <div class="auth-input">
            <i class="cui-icon">lock</i>
            <input type="password" placeholder="비밀번호 확인">
          </div>
        </div>
        <label class="auth-checkbox">
          <input type="checkbox">
          <span><a href="javascript:;">이용약관</a> 및 <a href="javascript:;">개인정보 처리방침</a>에 동의합니다</span>
        </label>
        <button class="cui-btn cui-btn-primary cui-btn-block cui-btn-lg" id="btnRegister">회원가입</button>
      </div>
      <div class="auth-footer">
        이미 계정이 있으신가요? <a href="javascript:;" id="showLogin">로그인</a>
      </div>
    </div>

    <!-- 비밀번호 찾기 폼 -->
    <div class="auth-card" id="forgotForm" style="display:none;">
      <div class="auth-header">
        <div class="auth-logo">
          <i class="cui-icon" style="font-size:48px;color:var(--cui-primary);">lock_reset</i>
        </div>
        <h2>비밀번호 찾기</h2>
        <p>이메일로 재설정 링크를 보내드립니다</p>
      </div>
      <div class="auth-body">
        <div class="auth-form-group">
          <label>이메일</label>
          <div class="auth-input">
            <i class="cui-icon">email</i>
            <input type="email" placeholder="가입한 이메일 주소">
          </div>
        </div>
        <button class="cui-btn cui-btn-primary cui-btn-block cui-btn-lg" id="btnReset">재설정 링크 보내기</button>
      </div>
      <div class="auth-footer">
        <a href="javascript:;" id="backToLogin"><i class="cui-icon">arrow_back</i> 로그인으로 돌아가기</a>
      </div>
    </div>
  </div>
</div>

<style>
.auth-page {
  min-height: calc(100vh - 120px);
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  padding: 30px;
  margin: -15px;
}

.auth-container { width: 100%; max-width: 420px; }

.auth-card {
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.3);
  overflow: hidden;
}

.auth-header {
  text-align: center;
  padding: 30px 30px 0;
}

.auth-logo { margin-bottom: 15px; }
.auth-header h2 { margin: 0 0 8px; font-size: 24px; }
.auth-header p { margin: 0; color: var(--cui-text-secondary); }

.auth-body { padding: 30px; }

.auth-form-group { margin-bottom: 16px; }
.auth-form-group label { display: block; margin-bottom: 8px; font-size: 14px; font-weight: 500; }

.auth-label-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
.auth-label-row label { margin-bottom: 0; }
.auth-label-row a { font-size: 13px; color: var(--cui-primary); text-decoration: none; }

.auth-input {
  position: relative;
  display: flex;
  align-items: center;
}

.auth-input > .cui-icon:first-child {
  position: absolute;
  left: 12px;
  color: var(--cui-text-secondary);
  font-size: 20px;
  z-index: 1;
}

.auth-input input {
  width: 100%;
  padding: 12px 42px;
  border: 1px solid var(--cui-border);
  border-radius: 8px;
  font-size: 14px;
  outline: none;
  transition: border-color 0.2s;
}

.auth-input input:focus { border-color: var(--cui-primary); }

.auth-input .toggle-password {
  position: absolute;
  right: 12px;
  cursor: pointer;
  color: var(--cui-text-secondary);
  font-size: 20px;
}

.auth-input .toggle-password:hover { color: var(--cui-text); }

.auth-checkbox {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 20px;
  font-size: 14px;
  cursor: pointer;
}
.auth-checkbox input { width: 16px; height: 16px; margin: 0; }
.auth-checkbox a { color: var(--cui-primary); }

.auth-divider {
  text-align: center;
  margin: 20px 0;
  position: relative;
}

.auth-divider::before {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  top: 50%;
  height: 1px;
  background: var(--cui-border);
}

.auth-divider span {
  background: #fff;
  padding: 0 15px;
  position: relative;
  color: var(--cui-text-secondary);
  font-size: 13px;
}

.auth-social { display: flex; flex-direction: column; gap: 10px; }
.social-google { background: #fff; border: 1px solid var(--cui-border); }
.social-google:hover { background: #f5f5f5; }
.social-github { background: #24292e; color: #fff; border: none; }
.social-github:hover { background: #1b1f23; }

.auth-footer {
  text-align: center;
  padding: 20px;
  background: var(--cui-fill);
  font-size: 14px;
}

.auth-footer a { color: var(--cui-primary); font-weight: 500; }

.cui-checkbox {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  font-size: 14px;
}

.cui-checkbox input { width: 16px; height: 16px; }
</style>

<script>
Catui.use(['popup'], function(){
  var bindEvent = window.router ? router.bindEvent.bind(router) : function(el, type, fn){
    document.querySelector(el).addEventListener(type, fn);
  };

  // 폼 전환
  bindEvent('#showRegister', 'click', function(){
    document.getElementById('loginForm').style.display = 'none';
    document.getElementById('registerForm').style.display = 'block';
  });

  bindEvent('#showLogin', 'click', function(){
    document.getElementById('registerForm').style.display = 'none';
    document.getElementById('loginForm').style.display = 'block';
  });

  bindEvent('#showForgot', 'click', function(){
    document.getElementById('loginForm').style.display = 'none';
    document.getElementById('forgotForm').style.display = 'block';
  });

  bindEvent('#backToLogin', 'click', function(){
    document.getElementById('forgotForm').style.display = 'none';
    document.getElementById('loginForm').style.display = 'block';
  });

  // 비밀번호 보기 토글
  document.querySelectorAll('.toggle-password').forEach(function(icon){
    icon.addEventListener('click', function(){
      var input = this.previousElementSibling;
      if(input.type === 'password'){
        input.type = 'text';
        this.textContent = 'visibility';
      } else {
        input.type = 'password';
        this.textContent = 'visibility_off';
      }
    });
  });

  // 버튼 이벤트
  bindEvent('#btnLogin', 'click', function(){
    popup.msg('로그인 성공!', { icon: 1 });
  });

  bindEvent('#btnRegister', 'click', function(){
    popup.msg('회원가입 완료!', { icon: 1 });
  });

  bindEvent('#btnReset', 'click', function(){
    popup.msg('재설정 링크가 전송되었습니다', { icon: 1 });
  });
});
</script>
