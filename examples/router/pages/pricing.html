<div class="cui-fluid">
  <!-- 페이지 헤더 -->
  <div class="cui-page-header cui-mb-15">
    <div class="cui-page-title-wrap">
      <h2 class="cui-page-title">가격표</h2>
    </div>
    <div class="cui-breadcrumb">
      <a href="javascript:;">홈</a>
      <a href="javascript:;">페이지</a>
      <span>가격표</span>
    </div>
  </div>

  <!-- 결제 주기 토글 -->
  <div class="pricing-toggle cui-mb-20">
    <span class="active">월간</span>
    <div class="toggle-switch" id="billingToggle">
      <div class="toggle-slider"></div>
    </div>
    <span>연간 <span class="cui-badge cui-badge-success">20% 할인</span></span>
  </div>

  <!-- 가격표 카드 -->
  <div class="pricing-cards">
    <!-- Free -->
    <div class="pricing-card">
      <div class="pricing-header">
        <h3>Free</h3>
        <p>개인 프로젝트용</p>
      </div>
      <div class="pricing-price">
        <span class="price-amount">₩0</span>
        <span class="price-period">/월</span>
      </div>
      <ul class="pricing-features">
        <li><i class="cui-icon cui-text-success">check</i> 기본 컴포넌트</li>
        <li><i class="cui-icon cui-text-success">check</i> 커뮤니티 지원</li>
        <li><i class="cui-icon cui-text-success">check</i> 1개 프로젝트</li>
        <li class="disabled"><i class="cui-icon">close</i> 프리미엄 템플릿</li>
        <li class="disabled"><i class="cui-icon">close</i> 기술 지원</li>
        <li class="disabled"><i class="cui-icon">close</i> 소스 코드</li>
      </ul>
      <button class="cui-btn cui-btn-block">시작하기</button>
    </div>

    <!-- Pro -->
    <div class="pricing-card popular">
      <div class="pricing-badge">인기</div>
      <div class="pricing-header">
        <h3>Pro</h3>
        <p>소규모 팀용</p>
      </div>
      <div class="pricing-price">
        <span class="price-amount" data-monthly="29,000" data-yearly="23,200">₩29,000</span>
        <span class="price-period">/월</span>
      </div>
      <ul class="pricing-features">
        <li><i class="cui-icon cui-text-success">check</i> 모든 컴포넌트</li>
        <li><i class="cui-icon cui-text-success">check</i> 이메일 지원</li>
        <li><i class="cui-icon cui-text-success">check</i> 10개 프로젝트</li>
        <li><i class="cui-icon cui-text-success">check</i> 프리미엄 템플릿</li>
        <li><i class="cui-icon cui-text-success">check</i> 기술 지원 (48시간)</li>
        <li class="disabled"><i class="cui-icon">close</i> 소스 코드</li>
      </ul>
      <button class="cui-btn cui-btn-primary cui-btn-block">구매하기</button>
    </div>

    <!-- Enterprise -->
    <div class="pricing-card">
      <div class="pricing-header">
        <h3>Enterprise</h3>
        <p>대규모 조직용</p>
      </div>
      <div class="pricing-price">
        <span class="price-amount" data-monthly="99,000" data-yearly="79,200">₩99,000</span>
        <span class="price-period">/월</span>
      </div>
      <ul class="pricing-features">
        <li><i class="cui-icon cui-text-success">check</i> 모든 컴포넌트</li>
        <li><i class="cui-icon cui-text-success">check</i> 전화/이메일 지원</li>
        <li><i class="cui-icon cui-text-success">check</i> 무제한 프로젝트</li>
        <li><i class="cui-icon cui-text-success">check</i> 프리미엄 템플릿</li>
        <li><i class="cui-icon cui-text-success">check</i> 우선 기술 지원 (24시간)</li>
        <li><i class="cui-icon cui-text-success">check</i> 전체 소스 코드</li>
      </ul>
      <button class="cui-btn cui-btn-block">문의하기</button>
    </div>
  </div>

  <!-- 기능 비교표 -->
  <div class="cui-card cui-mt-30">
    <div class="cui-card-header">기능 비교</div>
    <div class="cui-card-body cui-p-0">
      <table class="cui-table pricing-table">
        <thead>
          <tr>
            <th>기능</th>
            <th class="cui-text-center">Free</th>
            <th class="cui-text-center">Pro</th>
            <th class="cui-text-center">Enterprise</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>컴포넌트</td>
            <td class="cui-text-center">기본</td>
            <td class="cui-text-center">전체</td>
            <td class="cui-text-center">전체</td>
          </tr>
          <tr>
            <td>프로젝트 수</td>
            <td class="cui-text-center">1개</td>
            <td class="cui-text-center">10개</td>
            <td class="cui-text-center">무제한</td>
          </tr>
          <tr>
            <td>템플릿</td>
            <td class="cui-text-center"><i class="cui-icon cui-text-danger">close</i></td>
            <td class="cui-text-center"><i class="cui-icon cui-text-success">check</i></td>
            <td class="cui-text-center"><i class="cui-icon cui-text-success">check</i></td>
          </tr>
          <tr>
            <td>기술 지원</td>
            <td class="cui-text-center">커뮤니티</td>
            <td class="cui-text-center">48시간</td>
            <td class="cui-text-center">24시간</td>
          </tr>
          <tr>
            <td>소스 코드</td>
            <td class="cui-text-center"><i class="cui-icon cui-text-danger">close</i></td>
            <td class="cui-text-center"><i class="cui-icon cui-text-danger">close</i></td>
            <td class="cui-text-center"><i class="cui-icon cui-text-success">check</i></td>
          </tr>
          <tr>
            <td>SLA</td>
            <td class="cui-text-center"><i class="cui-icon cui-text-danger">close</i></td>
            <td class="cui-text-center"><i class="cui-icon cui-text-danger">close</i></td>
            <td class="cui-text-center">99.9%</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- FAQ -->
  <div class="pricing-faq cui-mt-30">
    <h3 class="cui-text-center cui-mb-20">자주 묻는 질문</h3>
    <div class="cui-flex cui-gap-15" style="flex-wrap:wrap;">
      <div class="cui-card" style="flex:1;min-width:280px;">
        <div class="cui-card-body">
          <h4 class="cui-mb-10">환불이 가능한가요?</h4>
          <p class="cui-text-secondary cui-text-sm">구매 후 7일 이내에 환불을 요청하시면 전액 환불해 드립니다.</p>
        </div>
      </div>
      <div class="cui-card" style="flex:1;min-width:280px;">
        <div class="cui-card-body">
          <h4 class="cui-mb-10">플랜 변경이 가능한가요?</h4>
          <p class="cui-text-secondary cui-text-sm">언제든지 플랜을 업그레이드하거나 다운그레이드할 수 있습니다.</p>
        </div>
      </div>
      <div class="cui-card" style="flex:1;min-width:280px;">
        <div class="cui-card-body">
          <h4 class="cui-mb-10">팀원 추가 비용이 있나요?</h4>
          <p class="cui-text-secondary cui-text-sm">Pro와 Enterprise 플랜은 팀원 추가 비용 없이 협업할 수 있습니다.</p>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
.pricing-toggle {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 15px;
  font-size: 15px;
}

.pricing-toggle span.active { font-weight: 600; color: var(--cui-primary); }

.toggle-switch {
  width: 50px;
  height: 26px;
  background: var(--cui-border);
  border-radius: 13px;
  cursor: pointer;
  position: relative;
  transition: background 0.2s;
}

.toggle-switch.active { background: var(--cui-primary); }

.toggle-slider {
  width: 22px;
  height: 22px;
  background: #fff;
  border-radius: 50%;
  position: absolute;
  top: 2px;
  left: 2px;
  transition: left 0.2s;
  box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

.toggle-switch.active .toggle-slider { left: 26px; }

.pricing-cards {
  display: flex;
  gap: 20px;
  justify-content: center;
  flex-wrap: wrap;
}

.pricing-card {
  background: #fff;
  border-radius: 12px;
  padding: 30px;
  width: 300px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  position: relative;
  transition: transform 0.2s, box-shadow 0.2s;
}

.pricing-card:hover { transform: translateY(-5px); box-shadow: 0 8px 24px rgba(0,0,0,0.12); }

.pricing-card.popular {
  border: 2px solid var(--cui-primary);
  transform: scale(1.05);
}

.pricing-card.popular:hover { transform: scale(1.05) translateY(-5px); }

.pricing-badge {
  position: absolute;
  top: -12px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--cui-primary);
  color: #fff;
  padding: 4px 16px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 600;
}

.pricing-header { text-align: center; margin-bottom: 20px; }
.pricing-header h3 { margin: 0 0 5px; font-size: 22px; }
.pricing-header p { margin: 0; color: var(--cui-text-secondary); font-size: 14px; }

.pricing-price { text-align: center; margin-bottom: 25px; }
.price-amount { font-size: 36px; font-weight: 700; color: var(--cui-text); }
.price-period { color: var(--cui-text-secondary); }

.pricing-features {
  list-style: none;
  padding: 0;
  margin: 0 0 25px;
}

.pricing-features li {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 0;
  border-bottom: 1px solid var(--cui-border);
  font-size: 14px;
}

.pricing-features li:last-child { border-bottom: none; }
.pricing-features li.disabled { color: var(--cui-text-muted); }
.pricing-features .cui-icon { font-size: 18px; }

.pricing-table .cui-icon { font-size: 18px; }
</style>

<script>
Catui.use(['popup'], function(){
  var bindEvent = window.router ? router.bindEvent.bind(router) : function(el, type, fn){
    document.querySelector(el).addEventListener(type, fn);
  };

  var isYearly = false;

  // 결제 주기 토글
  bindEvent('#billingToggle', 'click', function(){
    isYearly = !isYearly;
    this.classList.toggle('active', isYearly);
    
    // 텍스트 활성화
    var spans = document.querySelectorAll('.pricing-toggle > span');
    spans[0].classList.toggle('active', !isYearly);
    spans[1].classList.toggle('active', isYearly);
    
    // 가격 업데이트
    document.querySelectorAll('.price-amount').forEach(function(el){
      var monthly = el.getAttribute('data-monthly');
      var yearly = el.getAttribute('data-yearly');
      if(monthly && yearly){
        el.textContent = '₩' + (isYearly ? yearly : monthly);
      }
    });
  });

  // 버튼 클릭
  document.querySelectorAll('.pricing-card .cui-btn').forEach(function(btn){
    btn.addEventListener('click', function(){
      var planName = this.closest('.pricing-card').querySelector('h3').textContent;
      popup.msg(planName + ' 플랜 선택');
    });
  });
});
</script>
