<div class="cui-card">
  <div class="cui-card-header">
    <h3>ğŸ“Š í…Œì´ë¸” ì˜ˆì œ</h3>
  </div>
  <div class="cui-card-body">
    <p class="cui-text-secondary cui-mb-20">ë¼ìš°í„°ë¡œ ë¡œë“œëœ í˜ì´ì§€ì—ì„œ í…Œì´ë¸”ì´ ìë™ìœ¼ë¡œ ë Œë”ë§ë©ë‹ˆë‹¤.</p>
    
    <table id="routerTable"></table>
  </div>
</div>

<div class="cui-card cui-mt-20">
  <div class="cui-card-header">
    <h3>ì„ íƒëœ ë°ì´í„°</h3>
  </div>
  <div class="cui-card-body">
    <button class="cui-btn cui-btn-primary cui-btn-sm" onclick="getChecked()">ì²´í¬ëœ í•­ëª© ê°€ì ¸ì˜¤ê¸°</button>
    <pre id="checkedData" class="cui-mt-10" style="background:#f5f5f5;padding:10px;border-radius:4px;"></pre>
  </div>
</div>

<script>
  // ì´ í˜ì´ì§€ì—ì„œ í•„ìš”í•œ ëª¨ë“ˆ ë¡œë“œ
  Catui.use(['table', 'popup'], function(){
    
    // í…Œì´ë¸” ë Œë”ë§
    table.render({
      elem: '#routerTable',
      id: 'routerTableId',
      data: [
        { id: 1, name: 'í™ê¸¸ë™', email: 'hong@test.com', status: 'í™œì„±' },
        { id: 2, name: 'ê¹€ì² ìˆ˜', email: 'kim@test.com', status: 'í™œì„±' },
        { id: 3, name: 'ì´ì˜í¬', email: 'lee@test.com', status: 'ë¹„í™œì„±' },
        { id: 4, name: 'ë°•ì§€ë¯¼', email: 'park@test.com', status: 'í™œì„±' },
        { id: 5, name: 'ìµœìˆ˜ì§„', email: 'choi@test.com', status: 'í™œì„±' }
      ],
      cols: [[
        { type: 'checkbox' },
        { field: 'id', title: 'ID', width: 80, sort: true },
        { field: 'name', title: 'ì´ë¦„', width: 120 },
        { field: 'email', title: 'ì´ë©”ì¼' },
        { field: 'status', title: 'ìƒíƒœ', width: 100, templet: function(d){
          return d.status === 'í™œì„±' 
            ? '<span class="cui-badge cui-bg-success">í™œì„±</span>'
            : '<span class="cui-badge cui-bg-gray">ë¹„í™œì„±</span>';
        }},
        { title: 'ì‘ì—…', width: 150, toolbar: '#tableBar' }
      ]],
      page: true,
      limit: 10
    });
    
    // íˆ´ë°” ë²„íŠ¼ ì´ë²¤íŠ¸
    table.on('tool(routerTableId)', function(obj){
      if(obj.event === 'edit'){
        popup.alert('ìˆ˜ì •: ' + obj.data.name);
      } else if(obj.event === 'del'){
        popup.confirm('ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?', function(idx){
          obj.del();
          popup.close(idx);
          popup.msg('ì‚­ì œ ì™„ë£Œ');
        });
      }
    });
    
    // ì²´í¬ëœ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° í•¨ìˆ˜ë¥¼ ì „ì—­ìœ¼ë¡œ ë…¸ì¶œ
    window.getChecked = function(){
      var checked = table.checkStatus('routerTableId');
      document.getElementById('checkedData').textContent = JSON.stringify(checked.data, null, 2);
    };
  });
</script>

<!-- í…Œì´ë¸” íˆ´ë°” í…œí”Œë¦¿ -->
<script type="text/html" id="tableBar">
  <button class="cui-btn cui-btn-xs cui-btn-primary" cui-event="edit">ìˆ˜ì •</button>
  <button class="cui-btn cui-btn-xs cui-btn-danger" cui-event="del">ì‚­ì œ</button>
</script>
